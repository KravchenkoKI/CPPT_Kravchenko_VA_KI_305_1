# module: shaded_matrix.py
# Лабораторна робота №7
# Автор: Кравченко В.А., група КІ305
# Дата: 02.11.2025

import sys

"""
Модуль shaded_matrix

Цей модуль реалізує функціонал для формування квадратної матриці
з заштрихованими елементами у верхньому лівому та нижньому правому квадрантах.
Також створюється відповідний зубчастий список (jagged list), що містить
лише заштриховані елементи матриці.

Функції:
--------
generate_shaded_matrix() :
    Генерує квадратну матрицю та зубчастий список із заштрихованих елементів,
    виводить їх на екран.
"""

def generate_shaded_matrix():
    """
    Генерує квадратну матрицю та відповідний зубчастий список заштрихованих елементів.

    Алгоритм роботи:
    ----------------
    1. Запит користувача на введення розміру квадратної матриці (n).
       - Якщо введено некоректне значення (не ціле число або <=0), виводиться повідомлення
         про помилку і програма завершується.
    2. Запит символу-заповнювача для заштрихованих елементів.
       - Якщо введено порожній рядок або більше одного символу, програма завершується з повідомленням.
    3. Формування квадратної матриці розміром n x n.
       - Заштриховані ділянки: верхній лівий та нижній правий квадранти.
       - Порожні клітини позначаються символом ".".
    4. Виведення сформованої матриці на екран.
    5. Створення зубчастого списку (jagged list), що містить тільки заштриховані елементи.
    6. Виведення зубчастого списку на екран.

    Використання:
    -------------
    Програма запускається як скрипт:
        python shaded_matrix.py
    """

    # --- Введення даних користувача ---
    try:
        n = int(input("Введіть розмір квадратної матриці: "))
    except ValueError:
        print("❌ Помилка: потрібно ввести ціле число.")
        sys.exit(1)

    # --- Перевірка коректності розміру матриці ---
    if n <= 0:
        print("❌ Розмір матриці повинен бути більше нуля.")
        sys.exit(1)

    filler = input("Введіть символ-заповнювач: ")

    # --- Перевірка коректності символу-заповнювача ---
    if len(filler) == 0:
        print("❌ Не введено символ-заповнювач.")
        sys.exit(1)
    elif len(filler) > 1:
        print("❌ Забагато символів-заповнювачів.")
        sys.exit(1)

    # --- Формування квадратної матриці ---
    matrix = []
    for i in range(n):
        row = []
        for j in range(n):
            # Визначення заштрихованих клітин
            if (i < n // 2 and j < n // 2) or (i >= n // 2 and j >= n // 2):
                row.append(filler)
            else:
                row.append(".")  # порожні клітини
        matrix.append(row)

    # --- Виведення сформованої матриці ---
    print("\nСформована матриця:")
    for row in matrix:
        print(" ".join(row))

    # --- Створення зубчастого списку ---
    jagged_list = [
        [matrix[i][j] for j in range(n) if matrix[i][j] == filler]
        for i in range(n)
    ]

    # --- Виведення зубчастого списку ---
    print("\nЗубчастий список (заштриховані елементи):")
    for sublist in jagged_list:
        print(sublist)


# --- Точка входу програми ---
if __name__ == "__main__":
    generate_shaded_matrix()
